### 命令

jps、jstat、jmp、jhat、jstack、jinfo：

1. **jps**，JVM Process Status Tool，查看JVM中的线程。
2. **jstat**，JVM Statistics Monitoring，监视虚拟机中的内存的状态，包括类加载、垃圾回收、内存等。
3. **jmp**，JVM Memory Map，查看、生成堆信息。
4. **jhat**，JVM Heap Analysis Tool，将**jmp**生成的堆快照文件加载，然后展示，用于分析。
5. **jstack**，生成当前线程的方法栈的快照。
6. **jinfo**，查看、调整JVM的运行参数。



### 常用JVM配置参数

- -Xms，设置**堆**的最小空间大小。
- -Xmx，设置**堆**的最大空间大小。
- -Xmn，设置**Young**大小。
- -Xss，每个线程的**栈**内存大小。
- -XX:NewSize，设置**Young**最小空间大小。
- -XX:MaxNewSize，设置**Young**最大空间大小。
- -XX:MaxPermSize，设置**Permanent**最大空间大小。
- -XX:MaxTenuringThreshold，存活次数大于此值的对象进入**Old**。
- -XX:NewRatio=4，设置**Young**的和**Old**的内存比例为 1:4。
- -XX:PretenureSizeThreashold，大于此值的对象直接分配到**Old**中。
- -XX:PermSize，设置**Permanent**最小空间大小。
- -XX:SurvivorRatio=8，设置新生代**Eden**和**Survivor**比例为 8:2。
- –XX:+UseParNewGC，指定使用**ParNew** + **Serial Old**垃圾回收器组合。
- -XX:+UseParallelOldGC，指定使用**ParNew** + **ParNew Old**垃圾回收器组合。
- -XX:+UseConcMarkSweepGC，指定使用**ParNew**+**CMS**垃圾回收器组合。



### GC分析过程

[Jvm 系列(五):Java GC 分析](http://www.ityouknow.com/jvm/2017/09/18/GC-Analysis.html)

[记一次java程序CPU占用过高问题排查](https://blog.csdn.net/puhaiyang/article/details/78663942)

[Jvm 系列(六):Java 服务 GC 参数调优案例](http://www.ityouknow.com/jvm/2017/09/19/GC-tuning.html)

