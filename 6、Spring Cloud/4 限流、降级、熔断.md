### 限流

请求限制的原理如同漏斗，每秒固定处理请求数，推迟过多请求，实现原理主要有[漏桶算法、令牌桶算法](http://www.cnblogs.com/duanxz/p/4123068.html)。

实现：

1. 对于单机应用，可用AtomicLong、Semaphore、Guava的Cache、Guava的RateLimiter（基于令牌桶算法）来实现限流。
2. 对于分布式应用，可用Redis做共享计数器（存储两个Key，一个用于计<span style=background:#c2e2ff>时</span>，一个用于计<span style=background:#c2e2ff>数</span>，若<span style=background:#c2e2ff>时</span>间内的<span style=background:#c2e2ff>数</span>量未超过阈值，则继续处理任务），还可以使用[Hytrix](https://www.cnblogs.com/duanxz/p/7519893.html)。



### 降级

丢卒保车，保证核心服务可用。

降级分类：

1. 自动化：自动降级、人工降级。
2. 读写：读降级、写降级。
3. 层级：多级降级。

降级方面：

1. 页面、页面片段、页面异步请求。
2. 服务功能。
3. 读降级（只读缓存）、写降级（只写缓存，之后异步更新到数据库）。
4. 爬虫降级、风控降级。



### 熔断

