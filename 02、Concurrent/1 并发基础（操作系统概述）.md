## 基本特征

并发与并行的[区别](https://www.zhihu.com/question/33515481)在于：⭐

1. **并发**，**Concurrent**：有处理多个任务的能力，不一定要同时。
   1. 往往是通过交替轮流执行任务来实现。

2. **并行**，**Parallel**：有<span style=background:#c2e2ff>同时</span>处理多个任务的能力。
   1. 需要硬件支持，如多流水线、多核/多处理器、分布式计算系统。


> 对于CPU密集型应用，最佳的并发度等于CPU数量（核数），但是线程/进程并不总是处于可运行状态，即处于等待状态（进行IO、数据库查询、网络请求等阻塞操作），所以最佳并发度往往大于CPU数量。

共享：互斥共享和同时共享。

虚拟：时分复用技术、空分复用技术。

异步。



## 基本功能

**进程管理**：进程控制、进程同步、进程通信、死锁处理、处理机调度等。

**内存管理**：内存分配、地址映射、内存保护与共享、虚拟内存。

**文件管理**：存储空间管理、目录管理、文件读写管理和保护。

**设备管理**：缓冲管理、设备分配、设备处理、虚拟设备。



## 内核态与用户态

内核是**OS**的基本组成。它为众多应用程序提供对计算机硬件的安全访问，即，决定一个应用程序什么时候对某部分硬件操作多长时间。

用户程序，也就是应用程序，只能在用户模式下执行，IO是系统操作，如果要执行IO，则必须<span style=background:#c2e2ff><u>调用系统函数</u></span>交由内核去执行，也就是由用户态（模式）进入内核态（模式），系统函数执行完成后，内核会将结果返回给用户程序。

Linux 的<u><span style=background:#c2e2ff>系统调用</span></u>主要有以下这些（不重要）：

| **功能** | **函数**                    |
| -------- | --------------------------- |
| 进程控制 | fork(); exit(); wait();     |
| 进程通信 | pipe(); shmget(); mmap();   |
| 文件操作 | open(); read(); write();    |
| 设备操作 | ioctl(); read(); write();   |
| 信息维护 | getpid(); alarm(); sleep(); |
| 安全     | chmod(); umask(); chown();  |



## 宏内核和微内核

### 宏内核，Monolithic Kernel

1. 将**OS**功能作为一个紧密结合的整体放到内核中，这样的内核设计被称为宏内核。
2. 由于各模块共享信息，所以拥有较高的性能。
3. Linux仍然采用宏内核的设计。

### 微内核，Micro Kernel

1. 由于**OS**日趋复杂，所以将**OS**的部分功能移出内核，这样的内核设计被称为微内核。
2. 移出的功能会划分成多个模块，这些模块运行在用户态下。
3. 不难看出，微内核的设计需要用户态、核心态的频繁切换，性能会有损失（但是可以通过优化找回一部分损失）。
4. Windows、MacOS等采用微内核的设计。

> 关于[宏内核和为内核的争论](https://www.zhihu.com/question/20314255)一直没有停歇。



## 中断分类

1. 外中断，由CPU执行指令以外的时间引起。
2. 异常。
3. 陷入，在用户程序中使用系统调用。