## 挑战

### 线上故障、挑战

这倒没有，在交付前，我们都会进行充分的冗余设计、充分的测试来保证。

### 开发、技术挑战

#### 微服务化改造

从无到有，实践过程不顺利，微服务架构不适合政务行业。

调整了项目的打包方式来进行解决。

#### Kafka Connect

[HBase与ES的组合使用](https://jishuin.proginn.com/p/763bfbd59bff)：双读双写、自动复制、协处理器。

从无到有，搜集资料、阅读源码、实践。

关于主流数据源的资料比较全面，但是缺少关于HBase的资料，甚至Apache官网都没有提供。在一番搜索下，最终在其商业公司Confluent的官网上找到了相关Jar，从疑似开发者的博客中了解到向HBase中导入数据的过程。

需要使用KSQL，Kafka SQL的意思。Kafka将自己定位为流处理工具，而非局限于消息队列，KSQL允许开发者以SQL的形式操纵Kafka中的数据流。需要使用KSQL将原始主题中的数据分别转换成适用于HBase、Elasticsearch的格式，即，HBase使用列族，有两层，Elasticsearch的坐标使用结构体。

1. 拼装行键。阅读、调试源码，中间还试图修改源码，但后来发现是自己没能理解设计者的意图，对使用方法进行了调整。先使用**Avro**生成**Schema**，再进行数据导入。
2. 当前版本的Kafka不支持KSQL中的结构体转换。



## 自我介绍

面试官好，我是李晓辉，来自山东，毕业自吉林大学，18年毕业之后就进入浪潮集团的公安事业部，从事Java开发。

三年来的最大感受就是成长，相应的，我担任的职责也由一开始的页面开发、维护系统，变为搜索引擎的开发，以及新技术的验证、引入。

工作期间负责过的项目主要有轨迹刻画和搜索引擎这两个系统。

离职之前，部门的发展前景不明朗，工作内容也没有挑战性，人往高处走，所以我选择了离职换工作。

离职这段时间，我努力提高自己，将以前没能深入的技术进行了深入，积累了120篇、总计16万字的笔记。除了简历上提到技术，我对Java集合、并发、虚拟机、NIO，以及设计模式等也都有了解。

当然，政务行业的系统，无论复杂度还是并发量，与互联网行业存在些许差距，同时受限于项目，我的笔记多停留在理论层面，当然我现在很渴望有机会践行这些理论。

以上便是我的自我介绍。

> 不明朗：疫情以来，部门都没有正式的签单，只有公司内部使用的新闻类网站的开发、省应急厅这种与原有业务不相关的项目、旧项目的修修补补这类任务。
>
> 没有挑战性：相比于实习，以及刚入职时，那种经常学到新知识、攻克技术难点的工作状态，离职前的工作内容多是重复的脑力劳动，这也与部门的前景不明朗有关。



## 项目时间线

### 民警早八点

- MQTT（订阅/发布）、安卓。

### 轨迹刻画

- HBase表结构的优化。
- 微服务化改造。
- 监控，Kafka。
- 扩展ES的应用，搜索近期轨迹。
- 采用聚类分析过滤套牌车。

### 云搜

- 搜索
- 档案
  - 消除部门壁垒，跨警种。
    - 汇聚常住人口/流动人口、各类证件、工作单位、人际关系、轨迹、名下车辆、涉及案件等信息。
  - 微服务
    - 框架搭建、网关开发、链路追踪、配置管理
    - Dubbo
      - 虽然相似，但是自成体系；Spring Cloud与Spring自家，无缝接入，使用Spring Boot。
    - 不适合
      - 开发、部署（离线、多）
      - 服务划分
      - 服务集群，细粒度控制并发
- 用户行为分析
- 云搜现在单机并发量是500并发，那如何提升至是5000并发呢？（高吞吐 = 低延迟 + 高并发）
  - 及时释放连接。
  - 多路复用。
  - 使用Redis提升响应速度。

